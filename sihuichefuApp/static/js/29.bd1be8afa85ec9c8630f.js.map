{"version":3,"sources":["webpack:///src/components/coupon/index.vue","webpack:///./src/components/coupon/index.vue?6fb9","webpack:///./src/components/coupon/index.vue"],"names":["coupon","data","user","picIp","useList","noUseList","couponId","this","$route","params","reduceMoney","mounted","userInfo","utils","getLocalStorage","JSON","parse","couponType","getList","created","methods","onClickLeft","$router","go","type","_this","Object","xiche","pageNo","pageSize","ownerId","id","flagUse","then","list","page","records","filter","item","getcoupon","beforeRouteLeave","to","from","next","components","_components","defineProperty_default","tab_default","a","name","tabs_default","icon_default","components_coupon","render","_vm","_h","$createElement","_c","_self","staticStyle","z-index","attrs","title","left-text","right-text","left-arrow","fixed","on","click-left","_v","staticClass","length","_l","index","key","class","no_use","click","$event","_s","couponName","fullMoney","endDate","active","coupon_type1","coupon_type2","coupon_type3","coupon_type4","coupon_type5","coupon_type6","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/29.bd1be8afa85ec9c8630f.js","sourcesContent":["<template>\r\n  <div>\r\n    <van-nav-bar\r\n      title=\"我的优惠券\"\r\n      left-text=\"\"\r\n      right-text=\"\"\r\n      :left-arrow=\"true\"\r\n      :fixed=\"true\"\r\n      @click-left=\"onClickLeft\"\r\n      style=\"z-index:10;\"\r\n    />\r\n    <div class=\"mTop\">\r\n      <van-tabs  type=\"card\">\r\n        <van-tab :title=\"'可用券('+ useList.length + ')'\">\r\n          <div class=\"coupon-item clearfix\" v-for=\"(item,index) in useList\" :key=\"index\" :class=\"{no_use: item.id !== couponId}\" @click=\"getcoupon(item.reduceMoney, item.id)\">\r\n            <div class=\"coupon-info\">\r\n              <div class=\"triangle1\"></div>\r\n              <div class=\"triangle2\"></div>\r\n              <div class=\"coupon-price coupon_type1\">\r\n                <div class=\"price-num\">\r\n                  ￥<span>{{item.reduceMoney}}</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"coupon-title\">{{item.couponName}}</div>\r\n              <div class=\"coupon-detail\">满{{item.fullMoney}}减{{item.reduceMoney}} </div>\r\n              <div class=\"coupon-detail\">有效期至 {{item.endDate}} </div>\r\n              <div class=\"coupon-check\" :class=\"{active:item.id === couponId}\">\r\n                <van-icon name=\"checked\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </van-tab>\r\n        <van-tab :title=\"'不可用券('+ noUseList.length + ')'\">\r\n          <div class=\"coupon-item clearfix\"  v-for=\"(item,index) in noUseList\" :key=\"index\">\r\n            <div class=\"coupon-info\">\r\n              <div class=\"triangle1\"></div>\r\n              <div class=\"triangle2\"></div>\r\n              <div class=\"coupon-price\" :class=\"{coupon_type1: item.couponType === '洗车', coupon_type2: item.couponType === '保养', coupon_type3: item.couponType === '清洗', coupon_type4: item.couponType === '维修', coupon_type5: item.couponType === '钣金', coupon_type6: item.couponType === '救援',}\">\r\n                <div class=\"price-num\">\r\n                  ￥<span>{{item.reduceMoney}}</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"coupon-title\">{{item.couponName}} </div>\r\n              <div class=\"coupon-detail\">满{{item.fullMoney}}减{{item.reduceMoney}} </div>\r\n              <div class=\"coupon-detail\">有效期至 {{item.endDate}} </div>\r\n            </div>\r\n          </div>\r\n        </van-tab>\r\n      </van-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { myCouponList } from '@/api/xiche'\r\nimport { localStorageTool } from '@/utils'\r\nimport { Tab, Tabs, Icon } from 'vant'\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {},\r\n      picIp: process.env.BASE_API,\r\n      useList: [],\r\n      noUseList: [],\r\n      couponId: this.$route.params.couponId,\r\n      reduceMoney: 0 // 优惠金额\r\n    }\r\n  },\r\n  mounted() {\r\n    const { userInfo } = localStorageTool.getLocalStorage('userInfo') // 获取LocalStorage值\r\n    if (userInfo) { // 获取用户信息、\r\n      this.user = JSON.parse(userInfo)\r\n      if (this.$route.params.couponType) {\r\n        this.getList(this.$route.params.couponType)\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$router.go(-1)\r\n    },\r\n    getList(type) {\r\n      myCouponList({ pageNo: 1, pageSize: 999, ownerId: this.user.id, flagUse: 0 }).then((data) => {\r\n        const list = data.page.records\r\n        this.useList = list.filter((item) => {\r\n          return item.type === type\r\n        })\r\n        this.noUseList = list.filter((item) => {\r\n          return item.type !== type\r\n        })\r\n      // for (var i = 0; i <= this.list.length; i++) {\r\n      //   if (this.list.couponType === '洗车') {\r\n      //     this.useList.push(this.list[i])\r\n      //   } else {\r\n      //     this.noUseList.push(this.list[i])\r\n      //   }\r\n      // }\r\n      })\r\n    },\r\n    getcoupon(reduceMoney, id) {\r\n      this.reduceMoney = reduceMoney\r\n      this.couponId = id\r\n      this.$router.go(-1)\r\n    }\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    to.params.reduceMoney = this.reduceMoney\r\n    to.params.id = this.couponId\r\n    next()\r\n  },\r\n  components: {\r\n    [Tab.name]: Tab,\r\n    [Tabs.name]: Tabs,\r\n    [Icon.name]: Icon\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.coupon-item{\r\n  background: #fff;\r\n  width: 92%;\r\n  margin: 1.18rem auto;\r\n  border-bottom: 0.8rem;\r\n  position: relative;\r\n}\r\n.coupon-info{\r\n  padding: 0.63rem 3.15rem 0.63rem 10rem;\r\n  position: relative;\r\n  overflow: hidden;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n}\r\n.triangle1{\r\n  width: 1.18rem;\r\n  height: 0.6rem;\r\n  position: absolute;\r\n  z-index: 2;\r\n  background: #f4f4f8;\r\n  left: 8.08rem;\r\n  top: 0;\r\n  border-radius: 0 0 1.18rem 1.18rem;\r\n}\r\n.triangle2{\r\n  width: 1.18rem;\r\n  height: 0.6rem;\r\n  position: absolute;\r\n  z-index: 2;\r\n  background: #f4f4f8;\r\n  left: 8.08rem;\r\n  bottom: -0.08rem;\r\n  border-radius:1.18rem 1.18rem 0 0;\r\n}\r\n.coupon-price{\r\n  border-right: 2px dashed #f4f4f8;\r\n  font-size: 2.37rem;\r\n  color: #fff;\r\n  width: 8.67rem;\r\n  height: 100%;\r\n  left: 0;\r\n  top: 0;\r\n  border-radius: 0.8rem 0 0 0.8rem;\r\n  text-align: center;\r\n  position: absolute;\r\n}\r\n/*洗车 1, 保养 2 ,清洗 3 ,维修 4 ,钣金 5 ,救援 6*/\r\n.coupon_type1{\r\n  background: #14a0ff;\r\n}\r\n.coupon_type2{\r\n  background: #ffb900;\r\n}\r\n.coupon_type3{\r\n  background: #96d20a;\r\n}\r\n.coupon_type4{\r\n  background: #fa5a4b;\r\n}\r\n.coupon_type5{\r\n  background: #05cdcd;\r\n}\r\n.coupon_type6{\r\n  background: #ff6e37;\r\n}\r\n.price-num{\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  -webkit-transform: translate(-50%, -50%);\r\n  transform: translate(-50%, -50%);\r\n  width: 100%;\r\n  font-size: 1rem;\r\n}\r\n.price-num span{\r\n  font-size: 2.37rem\r\n}\r\n.coupon-title{\r\n  font-size: 1.25rem;\r\n  line-height: 2.37rem;\r\n  font-weight: 700;\r\n}\r\n.coupon-detail{\r\n  color: #999;\r\n  line-height: 1.4;\r\n  font-size: 1rem;\r\n}\r\n.coupon-check{\r\n  position: absolute;\r\n  right: 0.8rem;\r\n  top: 50%;\r\n  -webkit-transform: translateY(-50%);\r\n  transform: translateY(-50%);\r\n  width: 1em;\r\n  height: 1em;\r\n  vertical-align: -1.18rem;\r\n  font-size: 1.6rem;\r\n  color: #e6e6e6;\r\n  overflow: hidden;\r\n  margin: 0 0.32rem;\r\n}\r\n.coupon-check.active{\r\n  color: #32c8fa;\r\n}\r\n.clearfix:after{\r\n  content: '';\r\n  display: block;\r\n  clear: both;\r\n  font-size: 0\r\n  }\r\n.no_use .coupon-price{\r\n  background: #c3c3c3;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/coupon/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{staticStyle:{\"z-index\":\"10\"},attrs:{\"title\":\"我的优惠券\",\"left-text\":\"\",\"right-text\":\"\",\"left-arrow\":true,\"fixed\":true},on:{\"click-left\":_vm.onClickLeft}}),_vm._v(\" \"),_c('div',{staticClass:\"mTop\"},[_c('van-tabs',{attrs:{\"type\":\"card\"}},[_c('van-tab',{attrs:{\"title\":'可用券('+ _vm.useList.length + ')'}},_vm._l((_vm.useList),function(item,index){return _c('div',{key:index,staticClass:\"coupon-item clearfix\",class:{no_use: item.id !== _vm.couponId},on:{\"click\":function($event){_vm.getcoupon(item.reduceMoney, item.id)}}},[_c('div',{staticClass:\"coupon-info\"},[_c('div',{staticClass:\"triangle1\"}),_vm._v(\" \"),_c('div',{staticClass:\"triangle2\"}),_vm._v(\" \"),_c('div',{staticClass:\"coupon-price coupon_type1\"},[_c('div',{staticClass:\"price-num\"},[_vm._v(\"\\n                ￥\"),_c('span',[_vm._v(_vm._s(item.reduceMoney))])])]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-title\"},[_vm._v(_vm._s(item.couponName))]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-detail\"},[_vm._v(\"满\"+_vm._s(item.fullMoney)+\"减\"+_vm._s(item.reduceMoney)+\" \")]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-detail\"},[_vm._v(\"有效期至 \"+_vm._s(item.endDate)+\" \")]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-check\",class:{active:item.id === _vm.couponId}},[_c('van-icon',{attrs:{\"name\":\"checked\"}})],1)])])})),_vm._v(\" \"),_c('van-tab',{attrs:{\"title\":'不可用券('+ _vm.noUseList.length + ')'}},_vm._l((_vm.noUseList),function(item,index){return _c('div',{key:index,staticClass:\"coupon-item clearfix\"},[_c('div',{staticClass:\"coupon-info\"},[_c('div',{staticClass:\"triangle1\"}),_vm._v(\" \"),_c('div',{staticClass:\"triangle2\"}),_vm._v(\" \"),_c('div',{staticClass:\"coupon-price\",class:{coupon_type1: item.couponType === '洗车', coupon_type2: item.couponType === '保养', coupon_type3: item.couponType === '清洗', coupon_type4: item.couponType === '维修', coupon_type5: item.couponType === '钣金', coupon_type6: item.couponType === '救援',}},[_c('div',{staticClass:\"price-num\"},[_vm._v(\"\\n                ￥\"),_c('span',[_vm._v(_vm._s(item.reduceMoney))])])]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-title\"},[_vm._v(_vm._s(item.couponName)+\" \")]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-detail\"},[_vm._v(\"满\"+_vm._s(item.fullMoney)+\"减\"+_vm._s(item.reduceMoney)+\" \")]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-detail\"},[_vm._v(\"有效期至 \"+_vm._s(item.endDate)+\" \")])])])}))],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-59a8393e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/coupon/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-59a8393e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-59a8393e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-59a8393e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/coupon/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}