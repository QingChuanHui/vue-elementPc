{"version":3,"sources":["webpack:///src/components/multiQuery/arrow.vue","webpack:///./src/components/multiQuery/arrow.vue?2979","webpack:///./src/components/multiQuery/arrow.vue","webpack:///src/components/multiQuery/index.vue","webpack:///./src/api/common.js","webpack:///./src/components/multiQuery/index.vue?38db","webpack:///./src/components/multiQuery/index.vue","webpack:///src/views/shop/shop.vue","webpack:///./src/views/shop/shop.vue?107a","webpack:///./src/views/shop/shop.vue"],"names":["arrow","name","props","isActive","type","Boolean","default","multiQuery_arrow","render","_h","this","$createElement","_c","_self","staticStyle","display","staticClass","class","is-active","attrs","t","viewBox","version","xmlns","p-id","xmlns:xlink","width","height","d","staticRenderFns","components_multiQuery_arrow","__webpack_require__","normalizeComponent","ssrContext","multiQuery","data","Typelist","label","value","sortList","showType","sortType","selectSort","selectItem","mounted","param","closeLoading","_this","axios","fetchPost","then","_Typelist","push","apply","toConsumableArray_default","newList","methods","selectI","item","$emit","selectS","sort","components","_components","defineProperty_default","popup_default","a","components_multiQuery","_vm","active","on","click","$event","_v","_s","position","overlay","transition","model","callback","$$v","expression","_l","index","key","title","icon","color","slot","_e","src_components_multiQuery","multiQuery_normalizeComponent","shop_shop","mixins","betterScroll","imageURL","logo_default","list","kindList","picIp","cssH","window","innerHeight","locationD","selectTypeValue","watch","$store.getters.currentCity","newVal","$nextTick","resetInit","activated","$refs","scroll","refresh","$store","getters","WGS","initData","_this2","asyncToGenerator_default","regenerator_default","mark","_callee","total","wrap","_context","prev","next","Object","shop","pageNo","pages","currPage","pageSize","perPage","selectType","city","currentCity","lat","latitude","lng","longitude","ret","_list","page","records","sent","abrupt","stop","filed","utils","changeType","IsEmpty","is_empty","MultiQuery","Scroll","scroll_scroll","views_shop_shop","z-index","left-text","right-text","left-arrow","fixed","change","directives","rawName","isEmpty","ref","margin-top","style","pullDownRefresh","pullUpLoad","noMore","pullingDown","onPullingDown","pullingUp","onPullingUp","to","path","query","id","companyLogo","companyName","companyScore","toFixed","distance","overflow","item2","typeName","address","shop_Component","shop_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/8.c648c56b0a7e3d6b63fc.js","sourcesContent":["<template>\r\n  <div style=\"display: inline-block;\" >\r\n    <svg t=\"1528441729013\" class=\"arrow\"  :class=\"{'is-active':isActive}\" style=\"\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"2100\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"32\" height=\"32\">\r\n    <path d=\"M927.804 352.193l-415.804 415.632-415.803-415.632 63.616-63.445 352.209 352.017 352.102-352.017z\" p-id=\"2101\" ></path></svg>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'arrow',\r\n  props: {\r\n    isActive: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.arrow {\r\n  display: inline-block;\r\n  cursor: pointer;\r\n  width: 10px;\r\n  height: 10px;\r\n  transform: rotate(0deg);\r\n  transition: .38s;\r\n  transform-origin: 50% 50%;\r\n  fill: #999999;\r\n}\r\n.arrow.is-active {\r\n  transform: rotate(180deg);\r\n  fill: red;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/multiQuery/arrow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('svg',{staticClass:\"arrow\",class:{'is-active':_vm.isActive},attrs:{\"t\":\"1528441729013\",\"viewBox\":\"0 0 1024 1024\",\"version\":\"1.1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"p-id\":\"2100\",\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"width\":\"32\",\"height\":\"32\"}},[_c('path',{attrs:{\"d\":\"M927.804 352.193l-415.804 415.632-415.803-415.632 63.616-63.445 352.209 352.017 352.102-352.017z\",\"p-id\":\"2101\"}})])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4c79eba2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/multiQuery/arrow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4c79eba2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./arrow.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./arrow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./arrow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4c79eba2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./arrow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4c79eba2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/multiQuery/arrow.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"multiQuery\" >\r\n    <div class=\"page-top\">\r\n      <div class=\"flex-wrap\">\r\n        <div class=\"flex top-item\"   @click=\"showType=!showType;sortType=false\"  :class=\"{active:showType}\"  >\r\n          {{selectItem.label}} <arrow :isActive=\"showType\" ></arrow>\r\n        </div>\r\n        <div class=\"vertical-line\"></div>\r\n        <div class=\"flex top-item\"  @click=\"sortType=!sortType;showType=false\"  :class=\"{active:sortType}\" >\r\n          {{selectSort.label}}<arrow :isActive=\"sortType\" ></arrow>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <van-popup v-model=\"showType\"  position=\"top\" :overlay=\"true\" class=\"popupShow\" transition=\"popup-fade\" >\r\n      <van-cell-group>\r\n        <van-cell v-for=\"(item, index) in Typelist\" :key=\"index\" :title=\"item.label\" icon=\"home\"  @click=\"selectI(item)\"  >\r\n           <van-icon slot=\"right-icon\" name=\"success\"  style=\"color:red;\"  v-if=\"selectItem.value==item.value\"  />\r\n        </van-cell>\r\n      </van-cell-group>\r\n    </van-popup>\r\n    <van-popup v-model=\"sortType\"  position=\"top\" :overlay=\"true\" class=\"popupShow\" transition=\"popup-fade\" >\r\n      <van-cell-group>\r\n        <van-cell v-for=\"(item, index) in sortList\" :key=\"index\" :title=\"item.label\" icon=\"home\"  @click=\"selectS(item)\"  >\r\n           <van-icon slot=\"right-icon\" name=\"success\"  style=\"color:red;\"  v-if=\"selectSort.value==item.value\"  />\r\n        </van-cell>\r\n      </van-cell-group>\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Popup } from 'vant'\r\nimport { getTypeList } from '@/api/common'\r\nimport arrow from './arrow'\r\nexport default {\r\n  name: 'multiQuery',\r\n  data() {\r\n    return {\r\n      Typelist: [\r\n        {\r\n          label: '全部类型',\r\n          value: ''\r\n        }\r\n      ],\r\n      sortList: [\r\n        {\r\n          label: '距离最近',\r\n          value: 0\r\n        },\r\n        {\r\n          label: '好评优先',\r\n          value: 1\r\n        }\r\n      ],\r\n      showType: false,\r\n      sortType: false,\r\n      selectSort: {\r\n        label: '距离最近',\r\n        value: 0\r\n      },\r\n      selectItem: {\r\n        label: '全部类型',\r\n        value: ''\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    getTypeList({ type: 'itemType' }).then((data) => { // 获取门店类别\r\n      this.Typelist.push(...data.newList)\r\n    })\r\n  },\r\n  methods: {\r\n    selectI(item) {\r\n      this.selectItem = item\r\n      this.showType = false\r\n      this.$emit('change', this.selectItem, this.selectSort)\r\n    },\r\n    selectS(sort) {\r\n      this.selectSort = sort\r\n      this.sortType = false\r\n      this.$emit('change', this.selectItem, this.selectSort)\r\n    }\r\n  },\r\n  components: {\r\n    [Popup.name]: Popup,\r\n    arrow\r\n  }\r\n}\r\n</script>\r\n<style   lang='scss' >\r\n.multiQuery{\r\n  .popupShow{\r\n    top:86px;max-height:60%;overflow-y:auto\r\n  }\r\n  .active{\r\n    color: red;\r\n  }\r\n  .van-modal{\r\n    top:88px;\r\n  }\r\n  .page-top{\r\n   position: fixed;\r\n   top: 46px;\r\n   left: 0;\r\n   z-index: 1;\r\n   width: 100%;\r\n  }\r\n  .flex-wrap{\r\n    height: 40px;\r\n    line-height: 40px;\r\n    text-align: center;\r\n    background: #fff;\r\n    border-bottom: 1px solid #ededee;\r\n    display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: flex;\r\n  }\r\n  .flex{\r\n    -webkit-box-flex: 1;\r\n    -webkit-flex: 1;\r\n    flex: 1;\r\n  }\r\n  .vertical-line{\r\n    position: relative;\r\n  }\r\n  .vertical-line::after{\r\n    top: 5px;\r\n    bottom: 5px;\r\n    background: #ccc;\r\n    content: '';\r\n    width: 1px;\r\n    position: absolute;\r\n    -webkit-transform: scale(0.5,1);\r\n    transform: scale(0.5,1)\r\n  }\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/multiQuery/index.vue","import request from '@/utils/axios'\r\n\r\n/**\r\n * 根据类别名获取字典数据\r\n * @param {*参数} param\r\n */\r\nexport function getTypeList(param, closeLoading) {\r\n  return request.fetchPost('/v1/app/sysDict/selectList', param, closeLoading)\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/common.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"multiQuery\"},[_c('div',{staticClass:\"page-top\"},[_c('div',{staticClass:\"flex-wrap\"},[_c('div',{staticClass:\"flex top-item\",class:{active:_vm.showType},on:{\"click\":function($event){_vm.showType=!_vm.showType;_vm.sortType=false}}},[_vm._v(\"\\n        \"+_vm._s(_vm.selectItem.label)+\" \"),_c('arrow',{attrs:{\"isActive\":_vm.showType}})],1),_vm._v(\" \"),_c('div',{staticClass:\"vertical-line\"}),_vm._v(\" \"),_c('div',{staticClass:\"flex top-item\",class:{active:_vm.sortType},on:{\"click\":function($event){_vm.sortType=!_vm.sortType;_vm.showType=false}}},[_vm._v(\"\\n        \"+_vm._s(_vm.selectSort.label)),_c('arrow',{attrs:{\"isActive\":_vm.sortType}})],1)])]),_vm._v(\" \"),_c('van-popup',{staticClass:\"popupShow\",attrs:{\"position\":\"top\",\"overlay\":true,\"transition\":\"popup-fade\"},model:{value:(_vm.showType),callback:function ($$v) {_vm.showType=$$v},expression:\"showType\"}},[_c('van-cell-group',_vm._l((_vm.Typelist),function(item,index){return _c('van-cell',{key:index,attrs:{\"title\":item.label,\"icon\":\"home\"},on:{\"click\":function($event){_vm.selectI(item)}}},[(_vm.selectItem.value==item.value)?_c('van-icon',{staticStyle:{\"color\":\"red\"},attrs:{\"slot\":\"right-icon\",\"name\":\"success\"},slot:\"right-icon\"}):_vm._e()],1)}))],1),_vm._v(\" \"),_c('van-popup',{staticClass:\"popupShow\",attrs:{\"position\":\"top\",\"overlay\":true,\"transition\":\"popup-fade\"},model:{value:(_vm.sortType),callback:function ($$v) {_vm.sortType=$$v},expression:\"sortType\"}},[_c('van-cell-group',_vm._l((_vm.sortList),function(item,index){return _c('van-cell',{key:index,attrs:{\"title\":item.label,\"icon\":\"home\"},on:{\"click\":function($event){_vm.selectS(item)}}},[(_vm.selectSort.value==item.value)?_c('van-icon',{staticStyle:{\"color\":\"red\"},attrs:{\"slot\":\"right-icon\",\"name\":\"success\"},slot:\"right-icon\"}):_vm._e()],1)}))],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-591a3e14\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/multiQuery/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-591a3e14\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-591a3e14\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/multiQuery/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <van-nav-bar\r\n      title=\"门店\"\r\n      left-text=\"\"\r\n      right-text=\"\"\r\n      :left-arrow=\"false\"\r\n      :fixed=\"true\"\r\n      style=\"z-index:10;\"\r\n    />\r\n    <MultiQuery  @change=\"changeType\"></MultiQuery>\r\n    <scroll  ref=\"scroll\" :data=\"list\"  :style=\"cssH\"  :pullDownRefresh=\"true\" :pullUpLoad=\"!noMore\"   @pullingDown=\"onPullingDown\" @pullingUp=\"onPullingUp\"  v-show=\"!isEmpty\" style=\"margin-top:87px\"  >\r\n      <van-cell v-for=\"(item,index) in list\" :key=\"index\" :to=\"{path:'/shop/detail', query: { id: item.id }}\">\r\n        <div class=\"news-item\">\r\n          <div class=\"news-img\">\r\n            <img   v-lazy=\"picIp+item.companyLogo\" >\r\n          </div>\r\n          <div class=\"news-content\">\r\n            <div class=\"news-title\">{{item.companyName}}</div>\r\n            <div class=\"sort\">\r\n              <span><span class=\"sort-large\">{{ item.companyScore ? item.companyScore.toFixed(2) : 0}}</span>分</span>\r\n              <div class=\"sort-right\">\r\n                <span class=\"sort-large\">{{filed(item.distance)}}</span>\r\n              </div>\r\n            </div>\r\n            <div style=\"height:24px; overflow:hidden\">\r\n              <span class=\"tips-item\" v-for=\"(item2,index) in item.baseCompanyKindList\" :key=\"index\">{{item2.typeName}}</span>\r\n            </div>\r\n            <div class=\"address\">{{item.address}}</div>\r\n          </div>\r\n        </div>\r\n      </van-cell>\r\n    </scroll>\r\n    <is-empty v-model=\"isEmpty\" >抱歉,没有最新消息</is-empty>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { shopList } from '@/api/shop'\r\nimport imageURL from '@/assets/logo.png'\r\nimport IsEmpty from '@/components/is-empty/'\r\nimport MultiQuery from '@/components/multiQuery'\r\nimport Scroll from '@/components/scroll/scroll.vue'\r\nimport betterScroll from '@/mixins/betterScroll'\r\nimport { juliHandler } from '@/utils'\r\nexport default {\r\n  mixins: [betterScroll],\r\n  data() {\r\n    return {\r\n      imageURL: imageURL,\r\n      list: [],\r\n      kindList: [],\r\n      picIp: process.env.BASE_API,\r\n      cssH: {\r\n        'height': (window.innerHeight - 137) + 'px'\r\n      },\r\n      locationD: {}, // 当前所在经纬度\r\n      sortType: 0,\r\n      selectTypeValue: '' // 选择类型的结果\r\n    }\r\n  },\r\n  watch: {\r\n    '$store.getters.currentCity'(newVal) { // 监视地区变化\r\n      this.$nextTick(() => {\r\n        this.resetInit()// 更新页数\r\n      })\r\n    }\r\n  },\r\n  activated() {\r\n    this.$refs.scroll.refresh()\r\n  },\r\n  mounted() {\r\n    this.locationD = this.$store.getters.WGS\r\n    this.resetInit()\r\n  },\r\n  methods: {\r\n    async initData() {\r\n      const total = await shopList({ pageNo: this.pages.currPage, pageSize: this.pages.perPage, selectType: this.selectTypeValue, city: this.$store.getters.currentCity.city, lat: this.locationD.latitude, lng: this.locationD.longitude, sortType: this.sortType }, true).then((ret) => {\r\n        if (ret.page.records) {\r\n          if (this.pages.currPage === 1) {\r\n            this.list = ret.page.records\r\n          } else {\r\n            this.list.push(...ret.page.records)\r\n          }\r\n        }\r\n        return ret.page.total\r\n      })\r\n      return total\r\n    },\r\n    filed(value) {\r\n      return juliHandler(value)\r\n    },\r\n    changeType(item, sort) {\r\n      this.selectTypeValue = item.value\r\n      this.sortType = sort.value\r\n      this.resetInit()// 更新页数\r\n    }\r\n  },\r\n  components: {\r\n    IsEmpty,\r\n    MultiQuery,\r\n    Scroll\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n .news-item{\r\n   position: relative;\r\n   /* padding: 0.6rem 0.5rem; */\r\n   /* font-size: 1.18rem; */\r\n   height: 7rem;\r\n   /* margin-top: 10px; */\r\n }\r\n .news-img{\r\n   width: 8rem;\r\n   height: 6rem;\r\n   padding-top: 0.5rem;\r\n   border-radius: 0.32rem;\r\n  }\r\n  .news-img img{\r\n    width:100%;\r\n    height: 100%;\r\n    border-radius: 0.35rem;\r\n  }\r\n  .news-content{\r\n    position: absolute;\r\n    left: 9rem;\r\n    right:0rem;\r\n    top: 0rem;\r\n    height:auto;\r\n  }\r\n  .news-title{\r\n    color: #333;\r\n    font-size: 1.1rem;\r\n    margin-top: 0.08rem;\r\n    display: -webkit-box;\r\n    -webkit-line-clamp:1;\r\n    -webkit-box-orient: vertical;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n  .sort{\r\n    color: #fa5a4b;\r\n    font-size: 0.85rem;\r\n    font-weight: 600;\r\n  }\r\n  .sort-large{ font-size: 1.18rem}\r\n  .sort-right{\r\n    float: right;\r\n  }\r\n  .tips-item{\r\n    min-width: 2rem;\r\n    height: 1.18rem;\r\n    color: #ffaa3f;\r\n    margin-right: 0.4rem;\r\n    display: inline-block;\r\n    padding: 0 0.4rem;\r\n    border: 1px solid #ffaa3f;\r\n    line-height: 1.18rem;\r\n    border-radius: 3px;\r\n    font-size: 0.875rem;\r\n    text-align: center;\r\n  }\r\n  .address{\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    color: #999;\r\n    font-size: 0.875rem;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/shop/shop.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{staticStyle:{\"z-index\":\"10\"},attrs:{\"title\":\"门店\",\"left-text\":\"\",\"right-text\":\"\",\"left-arrow\":false,\"fixed\":true}}),_vm._v(\" \"),_c('MultiQuery',{on:{\"change\":_vm.changeType}}),_vm._v(\" \"),_c('scroll',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEmpty),expression:\"!isEmpty\"}],ref:\"scroll\",staticStyle:{\"margin-top\":\"87px\"},style:(_vm.cssH),attrs:{\"data\":_vm.list,\"pullDownRefresh\":true,\"pullUpLoad\":!_vm.noMore},on:{\"pullingDown\":_vm.onPullingDown,\"pullingUp\":_vm.onPullingUp}},_vm._l((_vm.list),function(item,index){return _c('van-cell',{key:index,attrs:{\"to\":{path:'/shop/detail', query: { id: item.id }}}},[_c('div',{staticClass:\"news-item\"},[_c('div',{staticClass:\"news-img\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.picIp+item.companyLogo),expression:\"picIp+item.companyLogo\"}]})]),_vm._v(\" \"),_c('div',{staticClass:\"news-content\"},[_c('div',{staticClass:\"news-title\"},[_vm._v(_vm._s(item.companyName))]),_vm._v(\" \"),_c('div',{staticClass:\"sort\"},[_c('span',[_c('span',{staticClass:\"sort-large\"},[_vm._v(_vm._s(item.companyScore ? item.companyScore.toFixed(2) : 0))]),_vm._v(\"分\")]),_vm._v(\" \"),_c('div',{staticClass:\"sort-right\"},[_c('span',{staticClass:\"sort-large\"},[_vm._v(_vm._s(_vm.filed(item.distance)))])])]),_vm._v(\" \"),_c('div',{staticStyle:{\"height\":\"24px\",\"overflow\":\"hidden\"}},_vm._l((item.baseCompanyKindList),function(item2,index){return _c('span',{key:index,staticClass:\"tips-item\"},[_vm._v(_vm._s(item2.typeName))])})),_vm._v(\" \"),_c('div',{staticClass:\"address\"},[_vm._v(_vm._s(item.address))])])])])})),_vm._v(\" \"),_c('is-empty',{model:{value:(_vm.isEmpty),callback:function ($$v) {_vm.isEmpty=$$v},expression:\"isEmpty\"}},[_vm._v(\"抱歉,没有最新消息\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c0a50598\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/shop/shop.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c0a50598\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./shop.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shop.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./shop.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c0a50598\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./shop.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-c0a50598\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/shop/shop.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}