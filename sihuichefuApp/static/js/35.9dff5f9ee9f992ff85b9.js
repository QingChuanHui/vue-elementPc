webpackJsonp([35],{HOb0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=a("bOdI"),c=a.n(i),n=(a("tLo2"),a("blRl")),s=a.n(n),o=(a("D0HL"),a("tLiD")),l=a.n(o),u=(a("FDxC"),a("w+oK")),p=a.n(u),y=(a("jydU"),a("WQwN")),d=a.n(y),h=(a("wvM5"),a("MyDk")),m=a.n(h),v=a("0xDb"),f=a("vMJZ"),b={data:function(){return{user:{},maxDate:new Date,carType:"",carTypeName:"",buyDate:"",carMile:0,currentCity:{},show:!1,datePicker:""}},mounted:function(){var e=v.c.getLocalStorage("userInfo").userInfo;e&&(this.user=JSON.parse(e)),this.currentCity=this.$store.getters.currentCity,this.$route.params.cartype&&(this.carType=this.$route.params.cartype,this.carTypeName=this.carType.pbrand+" "+this.carType.ptype+" "+this.carType.pcaryear+"款 "+this.carType.psalename)},methods:{onClickLeft:function(){this.$router.go(-1)},urlArea:function(){this.$router.push({path:"/home/area"})},sureTime:function(){this.show=!1,this.datePicker?this.buyDate=Object(v.d)(this.datePicker,"{y}-{m}-{d}"):this.buyDate=""},addCar:function(){var e=this;Object(f.c)({ownerId:this.user.id,carType:this.carTypeName,buyDate:this.buyDate,carMile:this.carMile,city:this.currentCity.city,pLevelId:this.carType.plevelID,pBrand:this.carType.pbrand,pType:this.carType.ptype,pVolume:this.carType.pvolume,pCarYear:this.carType.pcaryear}).then(function(t){e.$toast("新增成功！"),e.$store.dispatch("getDefaultCar"),e.$router.go(-1)})},beforeClose:function(e,t){"confirm"===e?setTimeout(t,1e3):t()}},components:(r={},c()(r,m.a.name,m.a),c()(r,d.a.name,d.a),c()(r,p.a.name,p.a),c()(r,l.a.name,l.a),c()(r,s.a.name,s.a),r)},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-nav-bar",{attrs:{title:"填写爱车信息","left-text":"","right-text":"","left-arrow":"",fixed:!0},on:{"click-left":e.onClickLeft}}),e._v(" "),a("div",{staticClass:"mTop",staticStyle:{"margin-bottom":"60px"}},[a("div",{staticClass:"ucd-excess"},[e._v("请完善以下信息便于更精确的为您推荐保养套餐 ")]),e._v(" "),a("van-cell-group",[a("van-cell",{attrs:{title:"城市","is-link":"",value:"请选择城市",to:{path:"/home/area"}},model:{value:e.currentCity.city,callback:function(t){e.$set(e.currentCity,"city",t)},expression:"currentCity.city"}}),e._v(" "),a("van-field",{attrs:{type:"text",placeholder:"请选择车辆",disabled:"",label:"车辆"},model:{value:e.carTypeName,callback:function(t){e.carTypeName=t},expression:"carTypeName"}}),e._v(" "),a("van-cell",{attrs:{title:"购车时间",value:""},on:{click:function(t){e.show=!0}},model:{value:e.buyDate,callback:function(t){e.buyDate=t},expression:"buyDate"}}),e._v(" "),a("van-popup",{attrs:{position:"bottom",overlay:!1},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("van-datetime-picker",{attrs:{type:"date","max-date":e.maxDate},on:{confirm:function(t){e.sureTime()},cancel:function(t){e.show=!1}},model:{value:e.datePicker,callback:function(t){e.datePicker=t},expression:"datePicker"}})],1),e._v(" "),a("van-field",{attrs:{type:"number",placeholder:"请输入公里数",label:"行驶里程"},model:{value:e.carMile,callback:function(t){e.carMile=t},expression:"carMile"}},[a("van-button",{attrs:{slot:"button",size:"small",type:"default"},slot:"button"},[e._v("公里")])],1)],1)],1),e._v(" "),a("div",{staticClass:"page-bottom"},[a("van-button",{attrs:{type:"primary","bottom-action":""},on:{click:function(t){e.addCar()}}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var k=a("VU/8")(b,T,!1,function(e){a("lEf5")},"data-v-3f20b3b2",null);t.default=k.exports},lEf5:function(e,t){}});
//# sourceMappingURL=35.9dff5f9ee9f992ff85b9.js.map