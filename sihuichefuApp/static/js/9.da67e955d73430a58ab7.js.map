{"version":3,"sources":["webpack:///src/views/shop/xiche/xicheDetail.vue","webpack:///./src/views/shop/xiche/xicheDetail.vue?114e","webpack:///./src/views/shop/xiche/xicheDetail.vue","webpack:///./src/map.js"],"names":["xicheDetail","data","picIp","shopDetail","mounted","_this","this","$route","query","id","Object","shop","then","new","initMap","sales","activated","methods","onClickLeft","$router","go","OpenMap","value","src_native","goTel","tel","Mobile","_this2","map","BMap","Map","enableMapClick","console","log","lng","point","Point","lat","centerAndZoom","marker","Marker","addOverlay","goCheck","push","path","components","_components","defineProperty_default","row_default","a","name","col_default","xiche_xicheDetail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","left-arrow","fixed","title","left-text","right-text","on","click-left","_v","directives","rawName","companyLogo","expression","_s","companyName","companyTime","staticStyle","float","font-size","color","slot","click","$event","icon-class","nativeOn","address","lowestPrice","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","ak","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","reject","window","onBMapCallback","scriptNode","document","createElement","setAttribute","body","appendChild","location","__WEBPACK_IMPORTED_MODULE_1_axios___default","get","response","err","catch","error"],"mappings":"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","file":"static/js/9.da67e955d73430a58ab7.js","sourcesContent":["<template>\r\n  <div class=\"home\" >\r\n    <van-nav-bar    :left-arrow=\"true\"  :fixed=\"true\"  title=\"店铺详情\" left-text=\"\" right-text=\"\" @click-left=\"onClickLeft\" >\r\n    </van-nav-bar>\r\n    <div class=\"page-top\">\r\n      <div class=\"xi-wrap\">\r\n        <div class=\"xi-img\">\r\n          <img v-lazy=\"picIp+shopDetail.companyLogo\"/>\r\n        </div>\r\n        <div class=\"xi-item\">\r\n          <div class=\"shop-name\">{{shopDetail.companyName}}</div>\r\n          <div class=\"xi-time\">{{shopDetail.companyTime}}</div>\r\n          <div class=\"xi-time\">\r\n            <span  style=\"float:right\">\r\n              <van-icon slot=\"right-icon\" name=\"phone\" class=\"van-cell__right-icon\" style=\"font-size:1.25rem; color:#999\" @click=\"goTel(shopDetail.tel)\"/>\r\n            </span>\r\n            <span>已售{{shopDetail.sales}}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"address\">\r\n        <svg-icon :icon-class=\"'location'\" @click.native=\"OpenMap(shopDetail.lat+','+shopDetail.lng)\"></svg-icon>\r\n        {{shopDetail.address}}\r\n      </div>\r\n    </div>\r\n    <div class=\"page-content\" id=\"XSDFXPage\">\r\n    </div>\r\n    <div class=\"page-bottom\">\r\n        <div class=\"xi-pay\">\r\n          ￥<span class=\"xi-pay-money\">{{shopDetail.lowestPrice}}</span>起\r\n        </div>\r\n        <!--<div class=\"xi-count\">全城248家商户通用 </div>-->\r\n        <button class=\"xi-button\" @click=\"goCheck\">去买单</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Row, Col } from 'vant'\r\nimport { getShopDetail } from '@/api/shop'\r\nimport { MP } from '@/map.js'\r\nimport native from '@/native'\r\nexport default {\r\n  data() {\r\n    return {\r\n      picIp: process.env.BASE_API,\r\n      shopDetail: {} // 门店详细\r\n    }\r\n  },\r\n  mounted() {\r\n    if (this.$route.query.id) {\r\n      getShopDetail({ id: this.$route.query.id }).then((data) => {\r\n        this.shopDetail = data.new\r\n        this.initMap()\r\n        this.shopDetail.sales = this.$route.query.sales\r\n      })\r\n    }\r\n  },\r\n  activated() {\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$router.go(-1)\r\n    },\r\n    OpenMap(value) {\r\n      native.OpenMap(value)\r\n    },\r\n    goTel(tel) {\r\n      // 电话\r\n      native.Mobile('', tel)\r\n    },\r\n    initMap() {\r\n      // 新增打开和编辑打开的时候\r\n      MP().then(BMap => {\r\n        // const this_ = this\r\n        var map = new BMap.Map('XSDFXPage', { enableMapClick: true })\r\n        // 如果lng有值 表示是编辑，那么通过经纬度确定标点位置\r\n        console.log(this.shopDetail.lng)\r\n        if (this.shopDetail.lng) {\r\n          console.log('sssssssss')\r\n          var point = new BMap.Point(this.shopDetail.lng, this.shopDetail.lat)\r\n          map.centerAndZoom(new BMap.Point(this.shopDetail.lng, this.shopDetail.lat), 16)\r\n          var marker = new BMap.Marker(point)\r\n          map.addOverlay(marker)\r\n        } else {\r\n          map.centerAndZoom('上海市', 16)\r\n        }\r\n      })\r\n    },\r\n    goCheck() {\r\n      this.$router.push({ path: '/shop/washCar/charge',\r\n        query: { id: this.shopDetail.id }\r\n      })\r\n    }\r\n  },\r\n  components: {\r\n    [Row.name]: Row,\r\n    [Col.name]: Col,\r\n    MP\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n .page-bottom{\r\n    position: fixed;\r\n    left: 0;\r\n    right:0;\r\n    bottom:0;\r\n    z-index: 5;\r\n    height: 50px;\r\n    background: #2d3c4b;\r\n  }\r\n  .xi-pay{\r\n    padding: 0 0.8rem 0 1.18rem;\r\n    font-size: 1.18rem;\r\n    color: #fa5a4b;\r\n    min-width: 23rem;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    float: left;\r\n  }\r\n  .xi-pay-money{\r\n    font-size: 2.3rem;\r\n  }\r\n  .xi-count{\r\n    color: #fff;\r\n    position: absolute;\r\n    right: 11.45rem;\r\n    bottom: 0.63rem;\r\n    font-size: 1rem;\r\n  }\r\n  .xi-button{\r\n    width: 10rem;\r\n    height: 50px;\r\n    line-height: 50px;\r\n    font-weight: 600;\r\n    background: #fa5a4b;\r\n    color: #fff;\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 0;\r\n    border: 0;\r\n    font-size: 1.5rem;\r\n  }\r\n  .xi-wrap{\r\n    position: relative;\r\n    padding: 0.87rem 0;\r\n    background: #fff;\r\n    box-shadow: 1.18rem 1px 0 rgba(0,0,0,0.04)\r\n  }\r\n  .xi-img{\r\n    width: 5.5rem;\r\n    height: 4.7rem;\r\n    left: 1.18rem;\r\n    overflow: hidden;\r\n    position: absolute;\r\n    z-index: 2;\r\n    top: 50%;\r\n    -webkit-transform: translateY(-50%);\r\n    transform: translateY(-50%);\r\n  }\r\n  .xi-img img{\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .xi-item{\r\n    position: relative;\r\n    padding: 0 1.18rem 0 8.28rem;\r\n  }\r\n  .shop-name{\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    font-size: 1.18rem;\r\n  }\r\n  .xi-time{\r\n    color: #999;\r\n    margin: 0.24rem 0;\r\n    font-size: 1rem;\r\n  }\r\n  .address{\r\n    background: #fff;\r\n    padding: 1.1rem 1.18rem;\r\n    color: #666;\r\n    box-shadow: 1.18rem 1px 0 rgba(0,0,0,0.04);\r\n    font-size: 1rem;\r\n    text-align: left;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n  }\r\n  .address svg{\r\n    float:right;\r\n    font-size: 1.25rem;\r\n  }\r\n  .page-top{\r\n    position: absolute;\r\n    left: 0;\r\n    top:46px;\r\n    z-index: 5;\r\n    width: 100%;\r\n    /* border-top:5px solid #f2f2f2; */\r\n  }\r\n  .page-content{\r\n    position: relative;\r\n    height: 100%;\r\n    overflow: auto;\r\n    -webkit-overflow-scrolling: touch;\r\n    -webkit-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n  }\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/shop/xiche/xicheDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('van-nav-bar',{attrs:{\"left-arrow\":true,\"fixed\":true,\"title\":\"店铺详情\",\"left-text\":\"\",\"right-text\":\"\"},on:{\"click-left\":_vm.onClickLeft}}),_vm._v(\" \"),_c('div',{staticClass:\"page-top\"},[_c('div',{staticClass:\"xi-wrap\"},[_c('div',{staticClass:\"xi-img\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.picIp+_vm.shopDetail.companyLogo),expression:\"picIp+shopDetail.companyLogo\"}]})]),_vm._v(\" \"),_c('div',{staticClass:\"xi-item\"},[_c('div',{staticClass:\"shop-name\"},[_vm._v(_vm._s(_vm.shopDetail.companyName))]),_vm._v(\" \"),_c('div',{staticClass:\"xi-time\"},[_vm._v(_vm._s(_vm.shopDetail.companyTime))]),_vm._v(\" \"),_c('div',{staticClass:\"xi-time\"},[_c('span',{staticStyle:{\"float\":\"right\"}},[_c('van-icon',{staticClass:\"van-cell__right-icon\",staticStyle:{\"font-size\":\"1.25rem\",\"color\":\"#999\"},attrs:{\"slot\":\"right-icon\",\"name\":\"phone\"},on:{\"click\":function($event){_vm.goTel(_vm.shopDetail.tel)}},slot:\"right-icon\"})],1),_vm._v(\" \"),_c('span',[_vm._v(\"已售\"+_vm._s(_vm.shopDetail.sales))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"address\"},[_c('svg-icon',{attrs:{\"icon-class\":'location'},nativeOn:{\"click\":function($event){_vm.OpenMap(_vm.shopDetail.lat+','+_vm.shopDetail.lng)}}}),_vm._v(\"\\n      \"+_vm._s(_vm.shopDetail.address)+\"\\n    \")],1)]),_vm._v(\" \"),_c('div',{staticClass:\"page-content\",attrs:{\"id\":\"XSDFXPage\"}}),_vm._v(\" \"),_c('div',{staticClass:\"page-bottom\"},[_c('div',{staticClass:\"xi-pay\"},[_vm._v(\"\\n        ￥\"),_c('span',{staticClass:\"xi-pay-money\"},[_vm._v(_vm._s(_vm.shopDetail.lowestPrice))]),_vm._v(\"起\\n      \")]),_vm._v(\" \"),_c('button',{staticClass:\"xi-button\",on:{\"click\":_vm.goCheck}},[_vm._v(\"去买单\")])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1da5c018\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/shop/xiche/xicheDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1da5c018\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./xicheDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./xicheDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./xicheDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1da5c018\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./xicheDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1da5c018\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/shop/xiche/xicheDetail.vue\n// module id = null\n// module chunks = ","import axios from 'axios'\nconst ak = 'Zgvao4zZE6L1DYqiGocXjkSSULStabdQ'\nexport function MP(ak) {\n  const BMap_URL = 'https://api.map.baidu.com/api?v=2.0&ak=Zgvao4zZE6L1DYqiGocXjkSSULStabdQ&s=1&callback=onBMapCallback'\n  return new Promise((resolve, reject) => {\n    // 如果已加载直接返回\n    if (typeof BMap !== 'undefined') {\n      resolve(BMap)\n      return true\n    }\n    // 百度地图异步加载回调处理\n    window.onBMapCallback = function() {\n      console.log('百度地图脚本初始化成功...')\n      resolve(BMap)\n    }\n    // 插入script脚本\n    const scriptNode = document.createElement('script')\n    scriptNode.setAttribute('type', 'text/javascript')\n    scriptNode.setAttribute('src', BMap_URL)\n    document.body.appendChild(scriptNode)\n  })\n}\n/**\n * 获取当前地区\n * @param {*} param\n */\nexport function getLocationCity(location) {\n  return new Promise((resolve, reject) => {\n    axios.get('http://api.map.baidu.com/geocoder/v2/?location=' + location + '&output=json&coordtype=bd09ll,wgs84ll&pois=1&ak=' + ak) // http://api.map.baidu.com/geocoder/v2/?callback=renderReverse&location=35.658651,139.745415&output=json&pois=1&ak=您的ak\n      .then(response => {\n        resolve(response)\n      }, err => {\n        reject(err)\n      })\n      .catch((error) => {\n        reject(error)\n      })\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/map.js"],"sourceRoot":""}