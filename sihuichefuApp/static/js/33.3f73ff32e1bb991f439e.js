webpackJsonp([33],{MJ5P:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Xxa5"),n=s.n(i),a=s("Gu7T"),r=s.n(a),c=s("exGp"),o=s.n(c),l=s("S49b"),p=s("Owbt"),u=s("bh5B"),v=s("Y1Do"),d=s("0xDb"),y={mixins:[v.a],data:function(){return{list:[],kindList:[],picIp:"http://222.73.44.144:8300",cssH:{height:window.innerHeight-88+"px"},locationD:{},sortType:0}},watch:{sortType:function(t){var e=this;this.$nextTick(function(){e.resetInit()})},"$store.getters.currentCity":function(t){var e=this;this.$nextTick(function(){e.resetInit()})}},mounted:function(){this.locationD=this.$store.getters.WGS,this.resetInit()},activated:function(){this.$refs.scroll.refresh()},methods:{juliHandler:function(t){return Object(d.b)(t)},onClickLeft:function(){this.$router.go(-1)},initData:function(){var t=this;return o()(n.a.mark(function e(){var s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.selectType=t.$route.query.type,e.next=3,Object(l.f)({pageNo:t.pages.currPage,pageSize:t.pages.perPage,selectType:t.selectType,remarks:t.$route.query.remarks,city:t.$store.getters.currentCity.city,lat:t.locationD.latitude,lng:t.locationD.longitude,sortType:t.sortType},!0).then(function(e){var s;e.page.records&&(1===t.pages.currPage?t.list=e.page.records:(s=t.list).push.apply(s,r()(e.page.records)));return e.page.total});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}},e,t)}))()}},components:{IsEmpty:p.a,Scroll:u.a}},f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-nav-bar",{staticStyle:{"z-index":"10"},attrs:{title:"门店列表","left-text":"","right-text":"","left-arrow":!0,fixed:!0},on:{"click-left":t.onClickLeft}}),t._v(" "),s("div",{staticClass:"page-top"},[s("div",{staticClass:"flex-wrap"},[s("div",{staticClass:"flex top-item",class:{select:0==t.sortType},on:{click:function(e){t.sortType=0}}},[t._v("距离最近")]),t._v(" "),s("div",{staticClass:"vertical-line"}),t._v(" "),s("div",{staticClass:"flex top-item",class:{select:2==t.sortType},on:{click:function(e){t.sortType=2}}},[t._v("销量最高")])])]),t._v(" "),s("scroll",{directives:[{name:"show",rawName:"v-show",value:!t.isEmpty,expression:"!isEmpty"}],ref:"scroll",staticStyle:{"margin-top":"87px"},style:t.cssH,attrs:{data:t.list,pullDownRefresh:!0,pullUpLoad:!t.noMore},on:{pullingDown:t.onPullingDown,pullingUp:t.onPullingUp}},t._l(t.list,function(e,i){return s("van-cell",{key:i,attrs:{to:{path:"/shop/detail",query:{id:e.id,type:t.selectType}}}},[s("div",{staticClass:"news-item"},[s("div",{staticClass:"news-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picIp+e.companyLogo,expression:"picIp+item.companyLogo"}]})]),t._v(" "),s("div",{staticClass:"news-content"},[s("div",{staticClass:"news-title"},[t._v(t._s(e.companyName))]),t._v(" "),s("div",{staticStyle:{color:"#999"}},[s("span",{staticStyle:{color:"red",float:"right","font-weight":"600"}},[t._v(t._s(e.lowestPrice)+" 元起")]),t._v("\n            已售"+t._s(e.sales)+"\n          ")]),t._v(" "),s("div",{staticStyle:{color:"red"}},[t._v(t._s(t.juliHandler(e.distance)))]),t._v(" "),s("div",{staticClass:"address"},[t._v(t._s(e.address))])])])])})),t._v(" "),s("is-empty",{model:{value:t.isEmpty,callback:function(e){t.isEmpty=e},expression:"isEmpty"}},[t._v("抱歉,没有最新消息")])],1)},staticRenderFns:[]};var g=s("VU/8")(y,f,!1,function(t){s("zO3C")},"data-v-4515cc1c",null);e.default=g.exports},zO3C:function(t,e){}});
//# sourceMappingURL=33.3f73ff32e1bb991f439e.js.map