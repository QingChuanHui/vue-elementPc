webpackJsonp([14],{IPSe:function(t,e){},W2Q3:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n("bOdI"),a=n.n(i),l=(n("FDxC"),n("w+oK")),c=n.n(l),r=(n("wvM5"),n("MyDk")),s=n.n(r),u=n("mvHQ"),d=n.n(u),f=n("M9A7"),v=n("0xDb");var b={data:function(){return{countdown:60,isAble:!1,text:"获取验证码",tel:"",validNo:"",timer:null}},mounted:function(){v.c.removeLocalStorage("token","userInfo")},methods:{onClickLeft:function(){this.$router.go(-1)},timerCount:function(){var t=this;this.timer||(this.countdown=60,this.isAble=!0,this.timer=setInterval(function(){t.countdown>0&&t.countdown<=60?(t.countdown--,t.text="重新发送("+t.countdown+")"):(t.isAble=!1,clearInterval(t.timer),t.timer=null,t.text="获取验证码")},1e3))},getMsg:function(){if(t=this.tel,!/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(t))return this.$toast(" 请输入正确的电话号码 "),!1;var t;Object(f.a)({mobile:this.tel}).then(function(t){}),this.timerCount()},loginSumbit:function(){var t=this;Object(f.c)({mobile:this.tel,validNo:this.validNo}).then(function(e){v.c.setLocalStorage({token:e.token}),Object(f.b)().then(function(e){v.c.setLocalStorage({userInfo:d()(e.new)}),t.$store.dispatch("getDefaultCar"),t.$router.go(-1)})})}},components:(o={},a()(o,s.a.name,s.a),a()(o,c.a.name,c.a),o)},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-nav-bar",{attrs:{title:"登录","left-text":"","right-text":"","left-arrow":"",fixed:!0},on:{"click-left":t.onClickLeft}}),t._v(" "),n("van-cell-group",{staticClass:"page",staticStyle:{"margin-top":"70px"}},[n("van-field",{attrs:{type:"tel",placeholder:"请输入手机号"},model:{value:t.tel,callback:function(e){t.tel=e},expression:"tel"}}),t._v(" "),n("van-field",{attrs:{center:"",placeholder:"请输入验证码",icon:"clear"},model:{value:t.validNo,callback:function(e){t.validNo=e},expression:"validNo"}},[n("van-button",{staticClass:"getCode",attrs:{slot:"button",size:"small",type:"primary",disabled:t.isAble,text:t.text},on:{click:function(e){t.getMsg()}},slot:"button"})],1)],1),t._v(" "),n("van-cell-group",{staticStyle:{"margin-top":"20px",padding:"0px 15px","background-color":"#f2f2f2"}},[n("van-button",{staticClass:"login-btn",attrs:{size:"large"},on:{click:t.loginSumbit}},[t._v("登录")])],1)],1)},staticRenderFns:[]};var g=n("VU/8")(b,m,!1,function(t){n("IPSe")},"data-v-e5bb654a",null);e.default=g.exports}});
//# sourceMappingURL=14.67b030d6cf011ee0dab2.js.map