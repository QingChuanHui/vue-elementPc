webpackJsonp([40],{"14tz":function(t,e){},gPcD:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=a("bOdI"),l=a.n(n),r=(a("FDxC"),a("w+oK")),o=a.n(r),s=(a("G/J0"),a("beN6")),c=a.n(s),u=(a("08XL"),a("24wo")),v=a.n(u),g=a("mvHQ"),d=a.n(g),p=a("p+v9"),f=a("0xDb"),h=a("M9A7"),m={data:function(){return{picUrl:"http://222.73.44.144:8300",integralDetail:{},user:{},buttomText:"",isUButtoon:!1}},mounted:function(){var t=this;if(this.$route.query.id){var e=f.c.getLocalStorage("userInfo").userInfo;this.user=e?JSON.parse(e):{},Object(p.d)({id:this.$route.query.id}).then(function(e){t.integralDetail=e.new,t.user.id&&(t.buttomText=0===t.integralDetail.integralValue?"免费领取":t.user.totalIntegral<t.integralDetail.integralValue?"积分不足":"马上兑换",t.isUButtoon=t.user.totalIntegral<t.integralDetail.integralValue)})}},methods:{onClickLeft:function(){this.$router.go(-1)},login:function(){this.$router.push({path:"/home/login"})},sureIngegrall:function(){var t=this;Object(p.a)({ownerId:this.user.id,integralGoodsId:this.integralDetail.id}).then(function(e){Object(h.b)().then(function(t){f.c.setLocalStorage({userInfo:d()(t.new)})}),t.$router.replace({name:"兑换积分结果",params:{integralBill:e.new,integralValue:t.integralDetail.integralValue,couponType:t.integralDetail.couponType}})})}},components:(i={},l()(i,v.a.name,v.a),l()(i,c.a.name,c.a),l()(i,o.a.name,o.a),i)},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("van-nav-bar",{attrs:{"left-arrow":!0,fixed:!0,title:"积分详情","left-text":"","right-text":""},on:{"click-left":t.onClickLeft}}),t._v(" "),a("van-swipe",{staticClass:"mTop",staticStyle:{height:"11rem"},attrs:{autoplay:3e3}},t._l(t.integralDetail.baseIntegralGoodsPicList,function(e,i){return a("van-swipe-item",{key:i},[a("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picUrl+e.path,expression:"picUrl+img.path"}],attrs:{height:"100%",width:"100%"}})])})),t._v(" "),a("van-cell-group",[a("van-cell",[a("div",{staticStyle:{"font-size":"1.3rem","font-weight":"bold","margin-bottom":"1rem"}},[t._v(t._s(t.integralDetail.name))]),t._v(" "),a("div",{staticClass:"sort"},[a("span",[a("span",{staticClass:"sort-large"},[t._v(t._s(t.integralDetail.integralValue?t.integralDetail.integralValue:0))]),t._v(" 积分")])])]),t._v(" "),a("van-cell",{attrs:{title:"有效期",icon:"wap-nav",value:t.integralDetail.expiryDate}},[a("svg-icon",{attrs:{slot:"icon","icon-class":"date"},slot:"icon"})],1)],1),t._v(" "),a("van-cell-group",{staticClass:"topGroup",staticStyle:{"margin-bottom":"50px"}},[a("van-cell",{attrs:{title:"商品详情",icon:"wap-nav"}}),t._v(" "),a("van-cell",[a("div",{staticStyle:{"font-weight":"bold"}},[t._v("规则:")]),t._v(" "),a("div",{staticStyle:{overflow:"hidden","word-break":"break-all","word-wrap":"break-word"},domProps:{innerHTML:t._s(t.integralDetail.avtivityRule)}})]),t._v(" "),a("van-cell",[a("div",{staticStyle:{"font-weight":"bold"}},[t._v("描述:")]),t._v(" "),a("div",{staticStyle:{overflow:"hidden","word-break":"break-all","word-wrap":"break-word"},domProps:{innerHTML:t._s(t.integralDetail.detailDescription)}})])],1),t._v(" "),a("section",{staticClass:"dui-footer"},[t.user.id?a("van-button",{attrs:{type:"danger",size:"large",disabled:t.isUButtoon},on:{click:function(e){t.sureIngegrall()}}},[t._v("\n      "+t._s(t.buttomText)+"\n    ")]):a("van-button",{attrs:{type:"danger",size:"large"},on:{click:t.login}},[t._v("登录")])],1)],1)},staticRenderFns:[]};var w=a("VU/8")(m,b,!1,function(t){a("14tz")},"data-v-171c804c",null);e.default=w.exports}});
//# sourceMappingURL=40.911bb3afa00cad6e6f87.js.map