webpackJsonp([25],{SSqA:function(t,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e,r=n("bOdI"),s=n.n(r),i=(n("FDxC"),n("w+oK")),c=n.n(i),o=(n("dlG5"),n("MpXg")),l=n.n(o),d=(n("OMF1"),n("Maz4")),v=n.n(d),u=(n("cnGM"),n("S6j6")),f=n.n(u),m=(n("QP/A"),n("pyxX")),p=n.n(m),C=n("BO1k"),_=n.n(C),y=n("0xDb"),h=n("vMJZ"),b={data:function(){return{user:{},myCarList:[]}},mounted:function(){var t=y.c.getLocalStorage("userInfo").userInfo;t&&(this.user=JSON.parse(t))},created:function(){this.carsList()},methods:{onClickLeft:function(){this.$router.go(-1)},setDefault:function(t){var a=this;Object(h.d)({id:t}).then(function(n){a.$toast("设置成功！"),a.$store.dispatch("getDefaultCar");var e=!0,r=!1,s=void 0;try{for(var i,c=_()(a.myCarList);!(e=(i=c.next()).done);e=!0){var o=i.value;o.defaultCar=0,o.id===t&&(o.defaultCar=1)}}catch(t){r=!0,s=t}finally{try{!e&&c.return&&c.return()}finally{if(r)throw s}}})},deleteCar:function(t){var a=this;Object(h.e)({id:t}).then(function(t){a.$toast("删除成功！"),a.carsList()})},carsList:function(){var t=this;Object(h.f)({pageNo:1,pageSize:9999,ownerId:this.user.id}).then(function(a){t.myCarList=a.page.records})}},components:(e={},s()(e,p.a.name,p.a),s()(e,f.a.name,f.a),s()(e,v.a.name,v.a),s()(e,l.a.name,l.a),s()(e,c.a.name,c.a),e)},g={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("van-nav-bar",{attrs:{title:"我的车","left-text":"","right-text":"","left-arrow":"",fixed:!0},on:{"click-left":t.onClickLeft}}),t._v(" "),e("div",{staticClass:"mTop",staticStyle:{"margin-bottom":"60px"}},[e("van-cell-group",{staticClass:"backColor"},t._l(t.myCarList,function(a,r){return e("van-cell",{key:r,staticStyle:{"margin-bottom":"0.7rem"}},[e("div",{staticClass:"car-wrap"},[e("div",{staticClass:"car-item"},[e("div",{staticClass:"car-info"},[e("img",{attrs:{src:n("SnTU")}})]),t._v(" "),e("div",{staticClass:"car-text"},[e("p",{staticClass:"car-name"},[t._v(t._s(a.carType))]),t._v(" "),e("p",{staticClass:"car-num"},[t._v(t._s(a.carCode))]),t._v(" "),e("p",{staticClass:"car-num"},[t._v("行驶里程 "+t._s(a.carMile)+" km ")])])]),t._v(" "),e("div",{staticClass:"car-operate"},[e("div",{staticClass:"car-right"},[e("router-link",{attrs:{tag:"span",to:{name:"编辑我的车",params:{item:a}}}},[e("van-icon",{attrs:{name:"records"}}),t._v("\n                编辑\n              ")],1),t._v(" "),e("span",{staticStyle:{"margin-left":"10px"},on:{click:function(n){t.deleteCar(a.id)}}},[e("van-icon",{attrs:{name:"delete"}}),t._v("\n                删除\n              ")],1)],1),t._v(" "),e("div",{staticClass:"car-left"},[a.defaultCar?e("label",{staticStyle:{color:"#06bf04"},attrs:{for:"defaultCar"},on:{click:function(n){t.setDefault(a.id)}}},[e("span",{staticClass:"van-radio__input"},[e("input",{staticClass:"van-radio__control",attrs:{type:"radio",name:"defaultCar"},domProps:{value:a.id,checked:a.defaultCar}}),t._v(" "),e("i",{staticClass:"van-icon van-icon-checked",staticStyle:{font:"normal normal normal 16px/1.2 vant-icon"}})]),t._v("\n                默认车辆\n              ")]):e("label",{attrs:{for:"defaultCar"},on:{click:function(n){t.setDefault(a.id)}}},[e("span",{staticClass:"van-radio__input"},[e("input",{staticClass:"van-radio__control",attrs:{type:"radio",name:"defaultCar"},domProps:{value:a.id,checked:a.defaultCar}}),t._v(" "),e("i",{staticClass:"van-icon van-icon-check",staticStyle:{font:"normal normal normal 16px/1.2 vant-icon"}})]),t._v("\n                设为默认车辆\n              ")])]),t._v(" "),e("div",{staticStyle:{clear:"both"}})])])])}))],1),t._v(" "),e("router-link",{staticClass:"page-bottom",attrs:{tag:"div",to:{path:"/user/myCar/selectBrand"}}},[e("van-button",{attrs:{type:"primary","bottom-action":""}},[t._v("添加爱车")])],1)],1)},staticRenderFns:[]};var k=n("VU/8")(b,g,!1,function(t){n("x63U")},"data-v-68eae3fd",null);a.default=k.exports},x63U:function(t,a){}});
//# sourceMappingURL=25.d3736316d655fbd378ec.js.map