{"version":3,"sources":["webpack:///src/views/user/carAdd.vue","webpack:///./src/views/user/carAdd.vue?6f06","webpack:///./src/views/user/carAdd.vue"],"names":["carAdd","data","user","maxDate","Date","carType","carTypeName","buyDate","carMile","currentCity","show","datePicker","mounted","userInfo","utils","getLocalStorage","this","JSON","parse","$store","getters","$route","params","cartype","pbrand","ptype","pcaryear","psalename","methods","onClickLeft","$router","go","urlArea","push","path","sureTime","Object","addCar","_this","ownerId","id","city","pLevelId","plevelID","pBrand","pType","pVolume","pvolume","pCarYear","then","$toast","dispatch","beforeClose","action","done","setTimeout","components","_components","defineProperty_default","field_default","a","name","icon_default","button_default","datetime_picker_default","popup_default","user_carAdd","render","_vm","_h","$createElement","_c","_self","attrs","title","left-text","right-text","left-arrow","fixed","on","click-left","_v","staticClass","staticStyle","margin-bottom","is-link","value","to","model","callback","$$v","$set","expression","type","placeholder","disabled","label","click","$event","position","overlay","max-date","confirm","cancel","slot","size","bottom-action","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/35.9dff5f9ee9f992ff85b9.js","sourcesContent":["<template>\r\n  <div>\r\n    <van-nav-bar\r\n        title=\"填写爱车信息\"\r\n        left-text=\"\"\r\n        right-text=\"\"\r\n        left-arrow\r\n        :fixed=\"true\"\r\n        @click-left=\"onClickLeft\"\r\n    />\r\n    <div class=\"mTop\" style=\"margin-bottom:60px;\">\r\n      <div class=\"ucd-excess\">请完善以下信息便于更精确的为您推荐保养套餐 </div>\r\n      <van-cell-group>\r\n        <van-cell title=\"城市\" is-link value=\"请选择城市\" v-model=\"currentCity.city\" :to=\"{path:'/home/area'}\"/>\r\n        <van-field\r\n          type=\"text\"\r\n          placeholder=\"请选择车辆\"\r\n          v-model=\"carTypeName\"\r\n          disabled\r\n          label=\"车辆\"\r\n        />\r\n        <van-cell title=\"购车时间\" value=\"\" v-model=\"buyDate\"  @click=\"show = true\"/>\r\n        <van-popup v-model=\"show\" position=\"bottom\" :overlay=\"false\">\r\n          <van-datetime-picker\r\n            v-model=\"datePicker\"\r\n            type=\"date\"\r\n            :max-date=\"maxDate\"\r\n            @confirm=\"sureTime()\"\r\n            @cancel=\"show = false\"\r\n          />\r\n        </van-popup>\r\n        <van-field\r\n          type=\"number\"\r\n          placeholder=\"请输入公里数\"\r\n          v-model=\"carMile\"\r\n          label=\"行驶里程\"\r\n        >\r\n          <van-button slot=\"button\" size=\"small\" type=\"default\">公里</van-button>\r\n        </van-field>\r\n      </van-cell-group>\r\n    </div>\r\n    <div class=\"page-bottom\">\r\n      <van-button type=\"primary\" bottom-action @click=\"addCar()\">保存</van-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Field, Icon, Button, DatetimePicker, Popup } from 'vant'\r\nimport { localStorageTool, parseTime } from '@/utils'\r\nimport { carAdd } from '@/api/user'\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {},\r\n      maxDate: new Date(),\r\n      carType: '', // 车型类\r\n      carTypeName: '',\r\n      buyDate: '',\r\n      carMile: 0,\r\n      currentCity: {},\r\n      show: false,\r\n      datePicker: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    const { userInfo } = localStorageTool.getLocalStorage('userInfo') // 获取LocalStorage值\r\n    if (userInfo) { // 获取用户信息、\r\n      this.user = JSON.parse(userInfo)\r\n    }\r\n    this.currentCity = this.$store.getters.currentCity // 获取当前城市\r\n    if (this.$route.params.cartype) {\r\n      this.carType = this.$route.params.cartype\r\n      this.carTypeName = this.carType.pbrand + ' ' + this.carType.ptype + ' ' + this.carType.pcaryear + '款 ' + this.carType.psalename\r\n    }\r\n    // if (this.$route.query.plevelID) {\r\n    //   this.plevelID = this.$route.query.plevelID\r\n    // }\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$router.go(-1)\r\n    },\r\n    urlArea() {\r\n      this.$router.push({ path: '/home/area' })\r\n    },\r\n    sureTime() {\r\n      this.show = false\r\n      if (this.datePicker) {\r\n        this.buyDate = parseTime(this.datePicker, '{y}-{m}-{d}')\r\n      } else {\r\n        this.buyDate = ''\r\n      }\r\n    },\r\n    addCar() {\r\n      carAdd({ ownerId: this.user.id, carType: this.carTypeName, buyDate: this.buyDate, carMile: this.carMile, city: this.currentCity.city, pLevelId: this.carType.plevelID, pBrand: this.carType.pbrand, pType: this.carType.ptype, pVolume: this.carType.pvolume, pCarYear: this.carType.pcaryear }).then((data) => {\r\n        this.$toast('新增成功！')\r\n        this.$store.dispatch('getDefaultCar')\r\n        this.$router.go(-1)\r\n      })\r\n    },\r\n    beforeClose(action, done) {\r\n      if (action === 'confirm') {\r\n        setTimeout(done, 1000)\r\n      } else {\r\n        done()\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    [Field.name]: Field,\r\n    [Icon.name]: Icon,\r\n    [Button.name]: Button,\r\n    [DatetimePicker.name]: DatetimePicker,\r\n    [Popup.name]: Popup\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n  .form-label{\r\n    font-size: 1.1rem;\r\n  }\r\n  .ucd-list{\r\n    margin: 0.8rem 0 0;\r\n    box-shadow: 0 1px 0 rgba(0,0,0,0.04);\r\n    background: #fff;\r\n    position: relative;\r\n  }\r\n  .form-item{\r\n    box-shadow: 1.18rem 1px 0 rgba(0,0,0,0.04);\r\n    padding: 1.18rem;\r\n    position: relative;\r\n    font-size: 1.18rem;\r\n  }\r\n  .form-item1::after{\r\n    content: \"\";\r\n    position: absolute;\r\n    width: 0.5rem;\r\n    height: 0.5rem;\r\n    border-top: 1px solid #c3c3c3;\r\n    border-right: 1px solid #c3c3c3;\r\n    right: 1.6rem;\r\n    top: 50%;\r\n    -webkit-transform: rotate(45deg) translateY(-70%);\r\n    transform: rotate(45deg) translateY(-70%);\r\n  }\r\n  .form-input{\r\n    position: absolute;\r\n    width: 28%;\r\n    bottom: 0;\r\n    padding-right: 0;\r\n    left: 6rem;\r\n    color: #666;\r\n    font-size: 1rem;\r\n  }\r\n  input{\r\n    background: transparent;\r\n    border: 0;\r\n    box-shadow: none;\r\n    color: #666\r\n  }\r\n  .mileage{\r\n    color: #666;\r\n    position: absolute;\r\n    top: 50%;\r\n    right:1rem;\r\n    -webkit-transform: translateY(-50%);\r\n    transform: translateY(-50%);\r\n    font-size: 1rem;\r\n  }\r\n  .ucd-excess{\r\n    height: 2rem;\r\n    line-height: 2rem;\r\n    color: #999;\r\n    margin-left: 1.18rem;\r\n  }\r\n  .page-bottom{\r\n    -webkit-box-sizing: border-box;\r\n    box-sizing: border-box;\r\n    position: fixed;\r\n    left: 0;\r\n    bottom:0;\r\n    right: 0;\r\n    width: 100%;\r\n    z-index: 5;\r\n  }\r\n  .page-bottom button{background: #fa5a4b}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/carAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"填写爱车信息\",\"left-text\":\"\",\"right-text\":\"\",\"left-arrow\":\"\",\"fixed\":true},on:{\"click-left\":_vm.onClickLeft}}),_vm._v(\" \"),_c('div',{staticClass:\"mTop\",staticStyle:{\"margin-bottom\":\"60px\"}},[_c('div',{staticClass:\"ucd-excess\"},[_vm._v(\"请完善以下信息便于更精确的为您推荐保养套餐 \")]),_vm._v(\" \"),_c('van-cell-group',[_c('van-cell',{attrs:{\"title\":\"城市\",\"is-link\":\"\",\"value\":\"请选择城市\",\"to\":{path:'/home/area'}},model:{value:(_vm.currentCity.city),callback:function ($$v) {_vm.$set(_vm.currentCity, \"city\", $$v)},expression:\"currentCity.city\"}}),_vm._v(\" \"),_c('van-field',{attrs:{\"type\":\"text\",\"placeholder\":\"请选择车辆\",\"disabled\":\"\",\"label\":\"车辆\"},model:{value:(_vm.carTypeName),callback:function ($$v) {_vm.carTypeName=$$v},expression:\"carTypeName\"}}),_vm._v(\" \"),_c('van-cell',{attrs:{\"title\":\"购车时间\",\"value\":\"\"},on:{\"click\":function($event){_vm.show = true}},model:{value:(_vm.buyDate),callback:function ($$v) {_vm.buyDate=$$v},expression:\"buyDate\"}}),_vm._v(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\",\"overlay\":false},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-datetime-picker',{attrs:{\"type\":\"date\",\"max-date\":_vm.maxDate},on:{\"confirm\":function($event){_vm.sureTime()},\"cancel\":function($event){_vm.show = false}},model:{value:(_vm.datePicker),callback:function ($$v) {_vm.datePicker=$$v},expression:\"datePicker\"}})],1),_vm._v(\" \"),_c('van-field',{attrs:{\"type\":\"number\",\"placeholder\":\"请输入公里数\",\"label\":\"行驶里程\"},model:{value:(_vm.carMile),callback:function ($$v) {_vm.carMile=$$v},expression:\"carMile\"}},[_c('van-button',{attrs:{\"slot\":\"button\",\"size\":\"small\",\"type\":\"default\"},slot:\"button\"},[_vm._v(\"公里\")])],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"page-bottom\"},[_c('van-button',{attrs:{\"type\":\"primary\",\"bottom-action\":\"\"},on:{\"click\":function($event){_vm.addCar()}}},[_vm._v(\"保存\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3f20b3b2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/carAdd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3f20b3b2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./carAdd.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./carAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./carAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3f20b3b2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./carAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3f20b3b2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/carAdd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}