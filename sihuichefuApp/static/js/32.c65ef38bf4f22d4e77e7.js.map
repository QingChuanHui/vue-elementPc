{"version":3,"sources":["webpack:///src/views/user/coupon.vue","webpack:///./src/views/user/coupon.vue?5324","webpack:///./src/views/user/coupon.vue"],"names":["coupon","data","user","picIp","List","couponId","this","$route","params","reduceMoney","mounted","userInfo","utils","getLocalStorage","JSON","parse","getList","created","methods","onClickLeft","$router","go","goMy","type","push","path","query","_this","Object","xiche","pageNo","pageSize","ownerId","id","flagUse","then","page","records","getcoupon","beforeRouteLeave","to","from","next","components","defineProperty_default","button_default","a","name","user_coupon","render","_vm","_h","$createElement","_c","_self","attrs","title","left-text","right-text","left-arrow","fixed","z-index","on","click-left","_v","staticClass","staticStyle","padding-top","_l","item","index","key","click","$event","class","coupon_type1","couponType","coupon_type2","coupon_type3","coupon_type4","coupon_type5","coupon_type6","_s","couponName","fullMoney","endDate","size","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/32.c65ef38bf4f22d4e77e7.js","sourcesContent":["<template>\r\n  <div>\r\n    <van-nav-bar\r\n      title=\"我的优惠券\"\r\n      left-text=\"\"\r\n      right-text=\"\"\r\n      :left-arrow=\"true\"\r\n      :fixed=\"true\"\r\n      @click-left=\"onClickLeft\"\r\n      :z-index=10\r\n    />\r\n    <div class=\"mTop\" style=\"padding-top:1px;\">\r\n      <div class=\"coupon-item clearfix\" v-for=\"(item,index) in List\" :key=\"index\" @click=\"getcoupon(item.reduceMoney, item.id)\">\r\n        <div class=\"coupon-info\">\r\n              <div class=\"triangle1\"></div>\r\n              <div class=\"triangle2\"></div>\r\n              <div class=\"coupon-price\" :class=\"{coupon_type1: item.couponType === '洗车', coupon_type2: item.couponType === '保养', coupon_type3: item.couponType === '清洗', coupon_type4: item.couponType === '维修', coupon_type5: item.couponType === '钣金', coupon_type6: item.couponType === '救援',}\">\r\n                <div class=\"price-num\">\r\n                  ￥<span>{{item.reduceMoney}}</span>\r\n                </div>\r\n              </div>\r\n              <div class=\"coupon-title\">{{item.couponName}}</div>\r\n              <div class=\"coupon-detail\">满{{item.fullMoney}}减{{item.reduceMoney}} </div>\r\n              <div class=\"coupon-detail\">有效期至 {{item.endDate}} </div>\r\n              <div class=\"coupon-use\">\r\n                <van-button type=\"primary\" size=\"small\" @click=\"goMy(item.type)\">立即购买</van-button>\r\n              </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { myCouponList } from '@/api/xiche'\r\nimport { localStorageTool } from '@/utils'\r\nimport { Button } from 'vant'\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {},\r\n      picIp: process.env.BASE_API,\r\n      List: [],\r\n      couponId: this.$route.params.couponId,\r\n      reduceMoney: 0 // 优惠金额\r\n    }\r\n  },\r\n  mounted() {\r\n    const { userInfo } = localStorageTool.getLocalStorage('userInfo') // 获取LocalStorage值\r\n    if (userInfo) { // 获取用户信息、\r\n      this.user = JSON.parse(userInfo)\r\n      this.getList()\r\n    }\r\n  },\r\n  created() {\r\n  },\r\n  methods: {\r\n    onClickLeft() {\r\n      this.$router.go(-1)\r\n    },\r\n    goMy(type) {\r\n      this.$router.push({\r\n        path: '/shop/companyList',\r\n        query: { type: type }})\r\n    },\r\n    getList() {\r\n      myCouponList({ pageNo: 1, pageSize: 999, ownerId: this.user.id, flagUse: 0 }).then((data) => {\r\n        this.List = data.page.records\r\n      })\r\n    },\r\n    getcoupon(reduceMoney, id) {\r\n      this.reduceMoney = reduceMoney\r\n      this.couponId = id\r\n      // sthis.$router.go(-1)\r\n    }\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    to.params.reduceMoney = this.reduceMoney\r\n    to.params.id = this.couponId\r\n    next()\r\n  },\r\n  components: {\r\n    [Button.name]: Button\r\n  }\r\n}\r\n</script>\r\n<style scoped>\r\n.coupon-item{\r\n  background: #fff;\r\n  width: 92%;\r\n  margin: 1.18rem auto;\r\n  border-bottom: 0.8rem;\r\n  position: relative;\r\n}\r\n.coupon-info{\r\n  padding: 0.63rem 3.15rem 0.63rem 10rem;\r\n  position: relative;\r\n  overflow: hidden;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n}\r\n.triangle1{\r\n  width: 1.18rem;\r\n  height: 0.6rem;\r\n  position: absolute;\r\n  z-index: 2;\r\n  background: #f4f4f8;\r\n  left: 8.08rem;\r\n  top: 0;\r\n  border-radius: 0 0 1.18rem 1.18rem;\r\n}\r\n.triangle2{\r\n  width: 1.18rem;\r\n  height: 0.6rem;\r\n  position: absolute;\r\n  z-index: 2;\r\n  background: #f4f4f8;\r\n  left: 8.08rem;\r\n  bottom: -0.08rem;\r\n  border-radius:1.18rem 1.18rem 0 0;\r\n}\r\n.coupon-price{\r\n  border-right: 2px dashed #f4f4f8;\r\n  font-size: 2.37rem;\r\n  color: #fff;\r\n  width: 8.67rem;\r\n  height: 100%;\r\n  left: 0;\r\n  top: 0;\r\n  border-radius: 0.8rem 0 0 0.8rem;\r\n  text-align: center;\r\n  position: absolute;\r\n}\r\n/*洗车 1, 保养 2 ,清洗 3 ,维修 4 ,钣金 5 ,救援 6*/\r\n.coupon_type1{\r\n  background: #14a0ff;\r\n}\r\n.coupon_type2{\r\n  background: #ffb900;\r\n}\r\n.coupon_type3{\r\n  background: #96d20a;\r\n}\r\n.coupon_type4{\r\n  background: #fa5a4b;\r\n}\r\n.coupon_type5{\r\n  background: #05cdcd;\r\n}\r\n.coupon_type6{\r\n  background: #ff6e37;\r\n}\r\n.price-num{\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  -webkit-transform: translate(-50%, -50%);\r\n  transform: translate(-50%, -50%);\r\n  width: 100%;\r\n  font-size: 1rem;\r\n}\r\n.price-num span{\r\n  font-size: 2.37rem\r\n}\r\n.coupon-title{\r\n  font-size: 1.25rem;\r\n  line-height: 2.37rem;\r\n  font-weight: 700;\r\n}\r\n.coupon-detail{\r\n  color: #999;\r\n  line-height: 1.4;\r\n  font-size: 1rem;\r\n}\r\n.coupon-use{\r\n  position: absolute;\r\n  right: 0.8rem;\r\n  top: 10%;\r\n  /*top: 50%;\r\n  -webkit-transform: translateY(-55%);\r\n  transform: translateY(-55%);*/\r\n  height: 1.5em;\r\n  vertical-align: -1.18rem;\r\n  font-size: 1.6rem;\r\n  color: #e6e6e6;\r\n  overflow: hidden;\r\n  margin: 0 0.32rem;\r\n}\r\n.clearfix:after{\r\n  content: '';\r\n  display: block;\r\n  clear: both;\r\n  font-size: 0\r\n  }\r\n.no_use .coupon-price{\r\n  background: #c3c3c3;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/coupon.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{attrs:{\"title\":\"我的优惠券\",\"left-text\":\"\",\"right-text\":\"\",\"left-arrow\":true,\"fixed\":true,\"z-index\":10},on:{\"click-left\":_vm.onClickLeft}}),_vm._v(\" \"),_c('div',{staticClass:\"mTop\",staticStyle:{\"padding-top\":\"1px\"}},_vm._l((_vm.List),function(item,index){return _c('div',{key:index,staticClass:\"coupon-item clearfix\",on:{\"click\":function($event){_vm.getcoupon(item.reduceMoney, item.id)}}},[_c('div',{staticClass:\"coupon-info\"},[_c('div',{staticClass:\"triangle1\"}),_vm._v(\" \"),_c('div',{staticClass:\"triangle2\"}),_vm._v(\" \"),_c('div',{staticClass:\"coupon-price\",class:{coupon_type1: item.couponType === '洗车', coupon_type2: item.couponType === '保养', coupon_type3: item.couponType === '清洗', coupon_type4: item.couponType === '维修', coupon_type5: item.couponType === '钣金', coupon_type6: item.couponType === '救援',}},[_c('div',{staticClass:\"price-num\"},[_vm._v(\"\\n                ￥\"),_c('span',[_vm._v(_vm._s(item.reduceMoney))])])]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-title\"},[_vm._v(_vm._s(item.couponName))]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-detail\"},[_vm._v(\"满\"+_vm._s(item.fullMoney)+\"减\"+_vm._s(item.reduceMoney)+\" \")]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-detail\"},[_vm._v(\"有效期至 \"+_vm._s(item.endDate)+\" \")]),_vm._v(\" \"),_c('div',{staticClass:\"coupon-use\"},[_c('van-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){_vm.goMy(item.type)}}},[_vm._v(\"立即购买\")])],1)])])}))],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4535129a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/coupon.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4535129a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./coupon.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./coupon.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./coupon.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4535129a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./coupon.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4535129a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/coupon.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}